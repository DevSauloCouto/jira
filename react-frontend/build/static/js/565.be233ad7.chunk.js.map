{"version":3,"file":"static/js/565.be233ad7.chunk.js","mappings":"2JAsDA,UA1CA,SAAuBA,GACrB,IAAQC,EAA4DD,EAA5DC,KAAMC,EAAsDF,EAAtDE,UAAWC,EAA2CH,EAA3CG,WAAYC,EAA+BJ,EAA/BI,SAAUC,EAAqBL,EAArBK,QAASC,EAAYN,EAAZM,QACxD,GAA2CC,EAAAA,EAAAA,MAA3C,eAAOC,EAAP,KAAmCC,EAAnC,KAAwBC,UACxB,GAA0CC,EAAAA,EAAAA,MAA1C,eAAOC,EAAP,KAAkCC,EAAlC,KAAuBH,UACjBI,GAAMC,EAAAA,EAAAA,QAAgC,MAW5C,OACE,iBAAKC,UAAU,4DAAf,UACGX,GACC,iCACE,4CACc,kBAAMW,UAAU,mBAAhB,cAAqCf,EAArC,OADd,iBAGA,kBACEgB,YAAY,eACZD,UAAU,6DACVF,IAAKA,OAGP,MACJ,mBACEI,QAASb,EAxBM,WAAO,IAAD,GACrB,UAAAS,EAAIK,eAAJ,eAAaC,MAAMC,UAAWpB,GAClCO,EAAcN,EACf,EAEmB,WAClBU,EAAa,CAAER,SAAAA,EAAUF,UAAAA,EAAWoB,OAAQnB,GAC7C,EAkBKa,UAAU,kCAFZ,SAIGX,EAAWI,EAAK,eAAiB,SAAYI,EAAK,cAAgB,WAErE,mBAAQK,QAASZ,EAASU,UAAU,sCAApC,sBAKL,C","sources":["components/home/DeleteProject.tsx"],"sourcesContent":["import { useRef } from 'react';\nimport { useDeleteProjectMutation, useLeaveProjectMutation } from '../../api/project.endpoint';\n\ninterface Props {\n  name: string;\n  projectId: number;\n  authUserId: number;\n  memberId: number;\n  isAdmin: boolean;\n  onClose: () => void;\n}\n\nfunction DeleteProject(props: Props) {\n  const { name, projectId, authUserId, memberId, isAdmin, onClose } = props;\n  const [deleteProject, { isLoading: dl }] = useDeleteProjectMutation();\n  const [leaveProject, { isLoading: ll }] = useLeaveProjectMutation();\n  const ref = useRef<HTMLInputElement | null>(null);\n\n  const handleDelete = () => {\n    if (ref.current?.value.trim() !== name) return;\n    deleteProject(projectId);\n  };\n\n  const handleLeave = () => {\n    leaveProject({ memberId, projectId, userId: authUserId });\n  };\n\n  return (\n    <div className='top-full p-2 flex justify-end items-center border-b-[1px]'>\n      {isAdmin ? (\n        <>\n          <span>\n            Please type <span className='text-chakra-blue'>\"{name}\"</span> to delete\n          </span>\n          <input\n            placeholder='project name'\n            className='bg-c-1 outline-none border-[1px] border-gray-300 px-2 ml-8'\n            ref={ref}\n          />\n        </>\n      ) : null}\n      <button\n        onClick={isAdmin ? handleDelete : handleLeave}\n        className='btn-alert text-sm py-[3px] ml-5'\n      >\n        {isAdmin ? (dl ? 'deleting ...' : 'Delete') : ll ? 'leaving ...' : 'Leave'}\n      </button>\n      <button onClick={onClose} className='icon-btn px-3 text-sm py-[3px] ml-2'>\n        cancel\n      </button>\n    </div>\n  );\n}\n\nexport default DeleteProject;\n"],"names":["props","name","projectId","authUserId","memberId","isAdmin","onClose","useDeleteProjectMutation","deleteProject","dl","isLoading","useLeaveProjectMutation","leaveProject","ll","ref","useRef","className","placeholder","onClick","current","value","trim","userId"],"sourceRoot":""}