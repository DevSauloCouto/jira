"use strict";(self.webpackChunkreact_frontend=self.webpackChunkreact_frontend||[]).push([[59],{5059:function(e,s,t){t.r(s),t.d(s,{default:function(){return v}});var n=t(9439),l=t(4942),r=t(1413),a=t(9637),i=t(2711),c=t(2791),d=t(6383),u=t(5127),o=t(9591),x=t(6503),m=t(5777),p=t(2948),f=t(184),h=function(e){var s=e.type,t=e.label,l=e.defaultValue,r=e.placeholder,a=e.apiFunc,i=e.className,d=e.isRequired,u=(0,c.useState)(null!==l&&void 0!==l?l:""),x=(0,n.Z)(u,2),h=x[0],j=x[1],b=(0,c.useState)(!1),v=(0,n.Z)(b,2),y=v[0],Z=v[1];return(0,f.jsx)("div",{children:(0,f.jsx)(o.Z,{label:null!==t&&void 0!==t?t:"",labelClass:"ml-3",children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p.Z,{className:"px-3 py-2 w-full border-2 border-transparent resize-none hover:bg-[#f4f5f7] rounded-[3px] outline-none focus:border-chakra-blue ".concat(null!==i&&void 0!==i?i:"text-[18px] font-medium"),minRows:1,onChange:function(e){!y&&Z(!0);var s=e.target.value;j(s)},value:h,placeholder:r}),y&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("hr",{className:"border-t-[.5px] border-gray-400 mt-3 mb-2 mx-3"}),(0,f.jsxs)("div",{className:"flex justify-end",children:[(0,f.jsx)(m.zx,{onClick:function(){j(l),Z(!1)},size:"sm",borderRadius:3,variant:"ghost",mr:3,children:"cancel"}),(0,f.jsx)(m.zx,{onClick:function(){Z(!1),h===l||!h&&d||a({type:s,value:h})},size:"sm",borderRadius:3,colorScheme:"blue",children:"save"})]})]})]})})})},j=t(320),b=(0,c.lazy)((function(){return t.e(664).then(t.bind(t,6781))})),v=function(e){var s=e.issue,t=e.projectId,m=e.members,p=e.lists,v=e.types,y=e.priorities,Z=e.onClose,g=(0,d.w0)({listId:null===s||void 0===s?void 0:s.listId,projectId:t}).issues[null===s||void 0===s?void 0:s.idx],N=g.id,I=g.type,k=g.listId,w=g.reporterId,C=g.priority,S=g.assignees,V=g.summary,z=g.descr,F=g.createdAt,R=g.updatedAt,A=m.reduce((function(e,s){return(0,r.Z)((0,r.Z)({},e),{},(0,l.Z)({},s.value,s))}),{}),T=(0,d.bl)(),D=(0,n.Z)(T,1)[0],q=(0,d.SP)(),J=(0,n.Z)(q,1)[0],L=(0,c.useState)(!1),O=(0,n.Z)(L,2),P=O[0],_=O[1],U=function(e){var s=S.map((function(e){return e.userId})),n="assignee"===e.type?function(e,s){var t=e.length,n=s.length;if(t!==n)return{type:n>t?"addAssignee":"removeAssignee",value:n>t?s[n-1]:e.filter((function(e){return!s.includes(e)}))[0]}}(s,e.value):e;n&&D({id:N,body:(0,r.Z)((0,r.Z)({},n),{},{projectId:Number(t)})})};return(0,f.jsx)(j.Z,{onClose:Z,className:"max-w-[55rem]",children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"text-[16px] text-gray-600 px-3 mt-3 flex items-center justify-between",children:[(0,f.jsx)(x.Z,(0,r.Z)((0,r.Z)({className:"mr-3 w-4 h-4"},v[I]),{},{text:"Issue-"+N})),(0,f.jsxs)("div",{className:"text-black",children:[(0,f.jsx)("button",{onClick:function(){return _(!0)},title:"Delete",className:"icon-btn text-xl",children:(0,f.jsx)(i.JO,{icon:"bx:trash"})}),(0,f.jsx)("button",{onClick:Z,title:"Close",className:"icon-btn text-lg ml-4",children:(0,f.jsx)(i.JO,{icon:"akar-icons:cross"})})]})]}),(0,f.jsxs)("div",{className:"flex mb-8",children:[(0,f.jsx)("div",{className:"w-full pr-6",children:(0,f.jsxs)(a.xjn,{children:[(0,f.jsx)(h,{type:"summary",defaultValue:V,apiFunc:U,className:"text-[22px] font-semibold",placeholder:"title",isRequired:!0}),(0,f.jsx)(h,{label:"Description",type:"descr",defaultValue:z,apiFunc:U,placeholder:"add a description"})]})}),(0,f.jsxs)("div",{className:"w-[15rem] shrink-0 mt-3",children:[(0,f.jsx)(o.Z,{label:"Status",children:(0,f.jsx)(u.Z,{list:p,defaultValue:p.findIndex((function(e){return e.value===k})),dispatch:U,actionType:"listId",type:"normal",variant:"small"})}),m&&(0,f.jsx)(o.Z,{label:"Reporter",children:(0,f.jsx)("div",{className:"bg-[#f4f5f7] px-3 py-[5px] rounded-sm",children:(0,f.jsx)(x.Z,(0,r.Z)((0,r.Z)({},m.filter((function(e){return e.value===w}))[0]),{},{className:"w-6 h-6 mr-4 rounded-full object-cover"}))})}),m&&(0,f.jsx)(o.Z,{label:"Assignee",children:(0,f.jsx)(u.Z,{variant:"small",list:m,defaultValue:S.map((function(e){var s=e.userId;return A[s]})),dispatch:U,actionType:"assignee",type:"multiple"})}),(0,f.jsx)(o.Z,{label:"Type",children:(0,f.jsx)(u.Z,{variant:"small",list:v,defaultValue:v.findIndex((function(e){return e.value===I})),dispatch:U,actionType:"type",type:"normal"})}),(0,f.jsx)(o.Z,{label:"Priority",children:(0,f.jsx)(u.Z,{variant:"small",list:y,defaultValue:C,dispatch:U,actionType:"priority",type:"normal"})}),(0,f.jsx)("hr",{className:"border-t-[.5px] border-gray-400"}),(0,f.jsxs)("div",{className:"mt-4 text-sm text-gray-700",children:[F&&(0,f.jsxs)("span",{className:"block mb-2",children:["Created - ",new Date(F).toLocaleString()]}),R&&(0,f.jsxs)("span",{children:["Updated - ",new Date(R).toLocaleString()]})]})]})]}),P&&(0,f.jsx)(c.Suspense,{children:(0,f.jsx)(b,{onClose:function(){return _(!1)},onSubmit:function(){return J({issueId:N,projectId:t})}})})]})})}}}]);
//# sourceMappingURL=59.3a964ae7.chunk.js.map