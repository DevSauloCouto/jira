"use strict";(self.webpackChunkreact_frontend=self.webpackChunkreact_frontend||[]).push([[970],{5970:function(e,r,t){t.r(r),t.d(r,{default:function(){return R}});var s=t(4165),a=t(1413),n=t(5861),i=t(9439),l=t(824),o=t(5987),u=t(7762),c=t(2791),d=t(5863),p=t(251),m=t(2965),y=["className","rows"],h=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter(Boolean).join(" ")};var Z=["h","minH","height","minHeight"],f=(0,p.Gp)((function(e,r){var t=(0,p.mq)("Textarea",e),s=(0,m.Lr)(e),n=s.className,i=s.rows,l=(0,o.Z)(s,y),f=(0,d.Yp)(l),x=i?function(e){var r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=Object.assign({},e),a=(0,u.Z)(t);try{for(a.s();!(r=a.n()).done;){var n=r.value;n in s&&delete s[n]}}catch(i){a.e(i)}finally{a.f()}return s}(t,Z):t;return c.createElement(p.m$.textarea,(0,a.Z)((0,a.Z)({ref:r,rows:i},f),{},{className:h("chakra-textarea",n),__css:x}))}));f.displayName="Textarea";var x=t(5777),j=t(6871),b=t(2948),v=t(3419),g=t(6383),w=t(5127),I=t(9591),k=t(6503),C=t(320),N=t(184),R=function(e){var r=e.lists,t=e.members,o=e.types,u=e.priorities,d=e.onClose,p=(0,v.rk)().authUser,m=(0,g.yq)(),y=(0,i.Z)(m,2),h=y[0],Z=y[1],R=Z.error,z=Z.isLoading,S=(0,c.useReducer)(_,T),q=(0,i.Z)(S,2),F=q[0],H=q[1],L=(0,c.useState)(!1),W=(0,i.Z)(L,2),A=W[0],O=W[1],U=Number((0,j.UO)().projectId);if(!p)return null;if(R&&401===R.status)return(0,N.jsx)(j.Fg,{to:"/login"});var B=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F.summary&&p){e.next=2;break}return e.abrupt("return",O(!0));case 2:return e.next=4,h((0,a.Z)((0,a.Z)({},F),{},{reporterId:p.id,projectId:U}));case 4:d();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,N.jsx)(C.Z,{onSubmit:B,onClose:d,isLoading:z,className:"max-w-[35rem]",children:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("span",{className:"font-[600] text-[22px] text-c-1",children:"Create Issue"}),(0,N.jsx)(I.Z,{label:"Issue type",children:(0,N.jsx)(w.Z,{list:o,dispatch:H,actionType:"type",type:"normal"})}),(0,N.jsx)(I.Z,{label:"Short summary",children:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(l.II,{size:"sm",variant:"filled",borderWidth:1,borderColor:"gray.300",_focus:{borderWidth:2},value:F.summary,color:"black",onChange:function(e){return H({type:"summary",value:e.target.value})},isRequired:!0}),A&&(0,N.jsx)("span",{className:"text-[13px] text-red-500",children:"summary must not be empty"})]})}),(0,N.jsx)(I.Z,{label:"Description",children:(0,N.jsx)(f,{minH:"unset",overflow:"hidden",resize:"none",minRows:3,as:b.Z,borderRadius:2,value:F.descr,color:"black",onChange:function(e){return H({type:"descr",value:e.target.value})}})}),t&&(0,N.jsx)(I.Z,{label:"Reporter",children:(0,N.jsx)(x.zx,{display:"flex",justifyContent:"start",size:"sm",w:"full",borderWidth:1,borderColor:"gray.300",borderRadius:3,px:4,children:(0,N.jsx)(k.Z,(0,a.Z)((0,a.Z)({},t.filter((function(e){return e.value===p.id}))[0]),{},{className:"w-6 h-6 mr-4 rounded-full object-cover"}))})}),t&&(0,N.jsx)(I.Z,{label:"Assignee",children:(0,N.jsx)(w.Z,{list:t,dispatch:H,actionType:"assignee",type:"multiple"})}),(0,N.jsx)(I.Z,{label:"Priority",children:(0,N.jsx)(w.Z,{list:u,dispatch:H,actionType:"priority",type:"normal"})}),r&&(0,N.jsx)(I.Z,{label:"Status",children:(0,N.jsx)(w.Z,{list:r,dispatch:H,actionType:"listId",type:"normal"})})]})})},T={descr:"",summary:"",priority:0,type:0,reporterId:null,assignees:[],listId:null},_=function(e,r){var t=r.type,s=r.value;switch(t){case"type":return(0,a.Z)((0,a.Z)({},e),{},{type:s});case"summary":return(0,a.Z)((0,a.Z)({},e),{},{summary:s});case"descr":return(0,a.Z)((0,a.Z)({},e),{},{descr:s});case"assignee":return(0,a.Z)((0,a.Z)({},e),{},{assignees:s});case"priority":return(0,a.Z)((0,a.Z)({},e),{},{priority:s});case"listId":return(0,a.Z)((0,a.Z)({},e),{},{listId:s});default:return e}}}}]);
//# sourceMappingURL=970.cce964a4.chunk.js.map